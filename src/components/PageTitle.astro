---
import Default from '@astrojs/starlight/components/PageTitle.astro';

const { title } = Astro.locals.starlightRoute.entry.data;
// console.log(Astro.locals.starlightRoute.entry.data);

const email = 'houston@example.com';

// // const { authors, createdDate} = Astro.locals.starlightRoute.entry.data;

// // const { authors, createdDate} = Astro.locals.starlightRoute.entry.data;
// const { authors, createdDate} = Astro.locals.starlightRoute.entry.data as {
//   authors?: string[];
//   createdDate?: Date;
//   [key: string]: any; // Allow other properties
// };

// console.log(authors, createdDate);

const data = Astro.locals.starlightRoute.entry.data;

console.log('Full Data:', data); // Inspect the entire data object

const { authors, createdDate} = data;

console.log('Authors:', authors, 'Create Date:', createdDate); // Check individual values


function formatDate(date: Date | undefined): string {
  if (!date) return 'Unknown Date';
  return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
}

---

<a href=`mailto:${email}`>E-mail Me</a>

<h1>My Custom Page</h1>

{authors && (
  <p>
    <strong>Authors:</strong> {authors.join(', ')}
  </p>
)}

{createdDate&& (
  <p>
    <strong>Created:</strong> {formatDate(createdDate)}
  </p>
)}

<Default>
  <slot />
</Default>
